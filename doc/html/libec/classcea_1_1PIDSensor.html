<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libec: cea::PIDSensor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libec
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>cea</b></li><li class="navelem"><a class="el" href="classcea_1_1PIDSensor.html">PIDSensor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcea_1_1PIDSensor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cea::PIDSensor Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__sensor.html">Sensor module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>PID (process id) related <a class="el" href="classcea_1_1Sensor.html" title="Sensor abstract class.">Sensor</a>.  
 <a href="classcea_1_1PIDSensor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SensorPid_8h_source.html">SensorPid.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cea::PIDSensor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcea_1_1PIDSensor.png" usemap="#cea::PIDSensor_map" alt=""/>
  <map id="cea::PIDSensor_map" name="cea::PIDSensor_map">
<area href="classcea_1_1Sensor.html" title="Sensor abstract class." alt="cea::Sensor" shape="rect" coords="0,0,137,24"/>
<area href="classcea_1_1CpuElapsedTime.html" title="CPU elapsed time PID sensor." alt="cea::CpuElapsedTime" shape="rect" coords="147,112,284,136"/>
<area href="classcea_1_1CpuTime.html" title="CPU time PID sensor." alt="cea::CpuTime" shape="rect" coords="147,168,284,192"/>
<area href="classcea_1_1CpuTimeShare.html" title="CPU time share PID sensor." alt="cea::CpuTimeShare" shape="rect" coords="147,224,284,248"/>
<area href="classcea_1_1CpuTimeUsage.html" title="CPU Time Usage Sensor The CpuTimeUsage is a sensor based on the CPU elapsed time between two updates ..." alt="cea::CpuTimeUsage" shape="rect" coords="147,280,284,304"/>
<area href="classcea_1_1FakeSensor.html" title="Fake sensor used for Monitor test." alt="cea::FakeSensor" shape="rect" coords="147,336,284,360"/>
<area href="classcea_1_1PerfCount.html" title="Performance Counter sensors." alt="cea::PerfCount" shape="rect" coords="147,392,284,416"/>
<area href="classcea_1_1PerfCount.html" title="Performance Counter sensors." alt="cea::PerfCount" shape="rect" coords="147,448,284,472"/>
<area href="classcea_1_1PidStat.html" title="Implements sensors with information from /proc/[pid]/stat and /proc/stat files." alt="cea::PidStat" shape="rect" coords="147,504,284,528"/>
<area href="classcea_1_1PowerEstimator.html" alt="cea::PowerEstimator" shape="rect" coords="147,560,284,584"/>
<area href="classcea_1_1SensorCpuUsage.html" alt="cea::SensorCpuUsage" shape="rect" coords="147,616,284,640"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3efcc3ad91c7007f9673b86026c3311a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3efcc3ad91c7007f9673b86026c3311a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1PIDSensor.html#a3efcc3ad91c7007f9673b86026c3311a">PIDSensor</a> ()</td></tr>
<tr class="memdesc:a3efcc3ad91c7007f9673b86026c3311a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor Set name, alias and type of <a class="el" href="classcea_1_1Sensor.html" title="Sensor abstract class.">Sensor</a>. <br/></td></tr>
<tr class="separator:a3efcc3ad91c7007f9673b86026c3311a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20db7f70e5eb97573434c03a5f4221b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1PIDSensor.html#a20db7f70e5eb97573434c03a5f4221b2">PIDSensor</a> (const std::string &amp;xmlTag)</td></tr>
<tr class="separator:a20db7f70e5eb97573434c03a5f4221b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a0c3f6734b7af6bb1d6dbc0b5667d2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1PIDSensor.html#a15a0c3f6734b7af6bb1d6dbc0b5667d2">updatePid</a> (pid_t pid)=0</td></tr>
<tr class="memdesc:a15a0c3f6734b7af6bb1d6dbc0b5667d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates sensor's state.  <a href="#a15a0c3f6734b7af6bb1d6dbc0b5667d2"></a><br/></td></tr>
<tr class="separator:a15a0c3f6734b7af6bb1d6dbc0b5667d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb024dffd1ff76e6739cea708fcc704b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="unioncea_1_1sensor__t.html">sensor_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1PIDSensor.html#afb024dffd1ff76e6739cea708fcc704b">getValuePid</a> (pid_t pid)</td></tr>
<tr class="memdesc:afb024dffd1ff76e6739cea708fcc704b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets sensor's current value.  <a href="#afb024dffd1ff76e6739cea708fcc704b"></a><br/></td></tr>
<tr class="separator:afb024dffd1ff76e6739cea708fcc704b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7179f86896b5e7b3f0c39ebf393f825"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1PIDSensor.html#ab7179f86896b5e7b3f0c39ebf393f825">add</a> (pid_t pid)</td></tr>
<tr class="memdesc:ab7179f86896b5e7b3f0c39ebf393f825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new PID entry into the current and previous maps.  <a href="#ab7179f86896b5e7b3f0c39ebf393f825"></a><br/></td></tr>
<tr class="separator:ab7179f86896b5e7b3f0c39ebf393f825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a76412937dbee7cfb93f757cc3e7b4b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1PIDSensor.html#a9a76412937dbee7cfb93f757cc3e7b4b">remove</a> (pid_t pid)</td></tr>
<tr class="memdesc:a9a76412937dbee7cfb93f757cc3e7b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a PID entry from the current and previous maps.  <a href="#a9a76412937dbee7cfb93f757cc3e7b4b"></a><br/></td></tr>
<tr class="separator:a9a76412937dbee7cfb93f757cc3e7b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcea_1_1Sensor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcea_1_1Sensor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcea_1_1Sensor.html">cea::Sensor</a></td></tr>
<tr class="memitem:a9ed7208fe625c719891737c4a0a7e7ec inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a9ed7208fe625c719891737c4a0a7e7ec">Sensor</a> (suseconds_t latency=0)</td></tr>
<tr class="separator:a9ed7208fe625c719891737c4a0a7e7ec inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acefbafcd3f584f64ef2d2d5eecdeec29 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#acefbafcd3f584f64ef2d2d5eecdeec29">Sensor</a> (const std::string &amp;xmlTag)</td></tr>
<tr class="separator:acefbafcd3f584f64ef2d2d5eecdeec29 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e41b52808570da006d48b5107c58a28 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e41b52808570da006d48b5107c58a28"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a3e41b52808570da006d48b5107c58a28">Sensor</a> (const <a class="el" href="classcea_1_1Sensor.html">Sensor</a> &amp;s)</td></tr>
<tr class="memdesc:a3e41b52808570da006d48b5107c58a28 inherit pub_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor. <br/></td></tr>
<tr class="separator:a3e41b52808570da006d48b5107c58a28 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66090d3932d5d48d1e1242b0f2548b5 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa66090d3932d5d48d1e1242b0f2548b5"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#aa66090d3932d5d48d1e1242b0f2548b5">~Sensor</a> ()</td></tr>
<tr class="memdesc:aa66090d3932d5d48d1e1242b0f2548b5 inherit pub_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:aa66090d3932d5d48d1e1242b0f2548b5 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e0584fdb81ff026e5ca047b3f00c6d inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32e0584fdb81ff026e5ca047b3f00c6d"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a32e0584fdb81ff026e5ca047b3f00c6d">update</a> ()=0</td></tr>
<tr class="memdesc:a32e0584fdb81ff026e5ca047b3f00c6d inherit pub_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates sensor's state. <br/></td></tr>
<tr class="separator:a32e0584fdb81ff026e5ca047b3f00c6d inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9c2cc9c00cbd82f713194b66e6c078 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b9c2cc9c00cbd82f713194b66e6c078"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a5b9c2cc9c00cbd82f713194b66e6c078">toXml</a> ()</td></tr>
<tr class="memdesc:a5b9c2cc9c00cbd82f713194b66e6c078 inherit pub_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a XML string with the description of the sensor. <br/></td></tr>
<tr class="separator:a5b9c2cc9c00cbd82f713194b66e6c078 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92cb3cb302a0c11c32cf959d1a12e65b inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a92cb3cb302a0c11c32cf959d1a12e65b">getClassName</a> ()</td></tr>
<tr class="separator:a92cb3cb302a0c11c32cf959d1a12e65b inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c2a54aa8b057a81618edd230b307e6f inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a6c2a54aa8b057a81618edd230b307e6f">getAlias</a> ()</td></tr>
<tr class="separator:a6c2a54aa8b057a81618edd230b307e6f inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f74b96bbf46f7754bc7fa32cee8c139 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a8f74b96bbf46f7754bc7fa32cee8c139">getName</a> ()</td></tr>
<tr class="separator:a8f74b96bbf46f7754bc7fa32cee8c139 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e4e296442499f2761018ffac3d26df inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a02e4e296442499f2761018ffac3d26df">setName</a> (const char *name)</td></tr>
<tr class="separator:a02e4e296442499f2761018ffac3d26df inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5443dc235beadec57a5e1a353589d31 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#ab5443dc235beadec57a5e1a353589d31">getStatus</a> () const </td></tr>
<tr class="separator:ab5443dc235beadec57a5e1a353589d31 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3aae5a6199d0b0a139a01ae589d67ec inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#aa3aae5a6199d0b0a139a01ae589d67ec">getTime</a> () const </td></tr>
<tr class="separator:aa3aae5a6199d0b0a139a01ae589d67ec inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de3e03e50bc6c8027168e995394f123 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">SensorType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a6de3e03e50bc6c8027168e995394f123">getType</a> () const </td></tr>
<tr class="separator:a6de3e03e50bc6c8027168e995394f123 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac016b603accc50ee5413f832366152d5 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac016b603accc50ee5413f832366152d5"></a>
virtual <a class="el" href="unioncea_1_1sensor__t.html">sensor_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#ac016b603accc50ee5413f832366152d5">getValue</a> ()</td></tr>
<tr class="memdesc:ac016b603accc50ee5413f832366152d5 inherit pub_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets sensor's current value (for the entire system). <br/></td></tr>
<tr class="separator:ac016b603accc50ee5413f832366152d5 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a2f3160483ba15ec83ddc2d4d97681 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a29a2f3160483ba15ec83ddc2d4d97681">getParamsXml</a> (const char *indentation=&quot;&quot;)</td></tr>
<tr class="memdesc:a29a2f3160483ba15ec83ddc2d4d97681 inherit pub_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all parameters as a XML string.  <a href="#a29a2f3160483ba15ec83ddc2d4d97681"></a><br/></td></tr>
<tr class="separator:a29a2f3160483ba15ec83ddc2d4d97681 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42211f5bd3f8506386eba3856ea7b87a inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a42211f5bd3f8506386eba3856ea7b87a">setParamsXml</a> (const char *sensorXmlTag)</td></tr>
<tr class="memdesc:a42211f5bd3f8506386eba3856ea7b87a inherit pub_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the parameters from a XML file and set their values.  <a href="#a42211f5bd3f8506386eba3856ea7b87a"></a><br/></td></tr>
<tr class="separator:a42211f5bd3f8506386eba3856ea7b87a inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d3380f9e6e3f58ac5e4d8c9cb5817b3 inherit pub_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d3380f9e6e3f58ac5e4d8c9cb5817b3"></a>
<a class="el" href="classcea_1_1Sensor.html">Sensor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a2d3380f9e6e3f58ac5e4d8c9cb5817b3">operator=</a> (const <a class="el" href="classcea_1_1Sensor.html">Sensor</a> &amp;s)</td></tr>
<tr class="memdesc:a2d3380f9e6e3f58ac5e4d8c9cb5817b3 inherit pub_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator. <br/></td></tr>
<tr class="separator:a2d3380f9e6e3f58ac5e4d8c9cb5817b3 inherit pub_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classcea_1_1Sensor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classcea_1_1Sensor')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classcea_1_1Sensor.html">cea::Sensor</a></td></tr>
<tr class="memitem:a45ef6405a4064acd3e4b11f8574d6e75 inherit pub_static_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45ef6405a4064acd3e4b11f8574d6e75"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a45ef6405a4064acd3e4b11f8574d6e75">ClassName</a></td></tr>
<tr class="memdesc:a45ef6405a4064acd3e4b11f8574d6e75 inherit pub_static_attribs_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the class as a static parameter. <br/></td></tr>
<tr class="separator:a45ef6405a4064acd3e4b11f8574d6e75 inherit pub_static_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classcea_1_1Sensor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classcea_1_1Sensor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classcea_1_1Sensor.html">cea::Sensor</a></td></tr>
<tr class="memitem:ad91be448918692f36e02b0c1a8f47f11 inherit pro_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad91be448918692f36e02b0c1a8f47f11"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#ad91be448918692f36e02b0c1a8f47f11">clean</a> ()</td></tr>
<tr class="memdesc:ad91be448918692f36e02b0c1a8f47f11 inherit pro_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean all sensor's variable to its default ones. <br/></td></tr>
<tr class="separator:ad91be448918692f36e02b0c1a8f47f11 inherit pro_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85326e07d592a14c9501fb86609b8d05 inherit pro_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a85326e07d592a14c9501fb86609b8d05">copy</a> (const <a class="el" href="classcea_1_1Sensor.html">Sensor</a> &amp;source)</td></tr>
<tr class="separator:a85326e07d592a14c9501fb86609b8d05 inherit pro_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4726392e9d218ec30b59818a22f2a7 inherit pro_methods_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace4726392e9d218ec30b59818a22f2a7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#ace4726392e9d218ec30b59818a22f2a7">needUpdate</a> (const struct timeval &amp;tv_now, const struct timeval &amp;tv_prev)</td></tr>
<tr class="memdesc:ace4726392e9d218ec30b59818a22f2a7 inherit pro_methods_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if the elapsed time is greater than the sensor's latency. <br/></td></tr>
<tr class="separator:ace4726392e9d218ec30b59818a22f2a7 inherit pro_methods_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classcea_1_1Sensor"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classcea_1_1Sensor')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classcea_1_1Sensor.html">cea::Sensor</a></td></tr>
<tr class="memitem:a37d7c2fe362e88ad383d16ab17a99b68 inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37d7c2fe362e88ad383d16ab17a99b68"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a37d7c2fe362e88ad383d16ab17a99b68">_alias</a></td></tr>
<tr class="memdesc:a37d7c2fe362e88ad383d16ab17a99b68 inherit pro_attribs_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Short name (alias) <br/></td></tr>
<tr class="separator:a37d7c2fe362e88ad383d16ab17a99b68 inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2f567d6388984538ff9821b24d64c2 inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e2f567d6388984538ff9821b24d64c2"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a6e2f567d6388984538ff9821b24d64c2">_name</a></td></tr>
<tr class="memdesc:a6e2f567d6388984538ff9821b24d64c2 inherit pro_attribs_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full name. <br/></td></tr>
<tr class="separator:a6e2f567d6388984538ff9821b24d64c2 inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b191f83c3660c354fad173af8e46684 inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b191f83c3660c354fad173af8e46684"></a>
SensorType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a1b191f83c3660c354fad173af8e46684">_type</a></td></tr>
<tr class="memdesc:a1b191f83c3660c354fad173af8e46684 inherit pro_attribs_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type. <br/></td></tr>
<tr class="separator:a1b191f83c3660c354fad173af8e46684 inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846e62d29febf250a29a055e38cdfca3 inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a846e62d29febf250a29a055e38cdfca3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a846e62d29febf250a29a055e38cdfca3">_isActive</a></td></tr>
<tr class="memdesc:a846e62d29febf250a29a055e38cdfca3 inherit pro_attribs_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status. <br/></td></tr>
<tr class="separator:a846e62d29febf250a29a055e38cdfca3 inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b3a39c797ea21979b96007bba1619c inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac2b3a39c797ea21979b96007bba1619c"></a>
<a class="el" href="unioncea_1_1sensor__t.html">sensor_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#ac2b3a39c797ea21979b96007bba1619c">_cValue</a></td></tr>
<tr class="memdesc:ac2b3a39c797ea21979b96007bba1619c inherit pro_attribs_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current value. <br/></td></tr>
<tr class="separator:ac2b3a39c797ea21979b96007bba1619c inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9fc6470f8af9a896d93688cf9b9756 inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac9fc6470f8af9a896d93688cf9b9756"></a>
struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#aac9fc6470f8af9a896d93688cf9b9756">_cTimeval</a></td></tr>
<tr class="memdesc:aac9fc6470f8af9a896d93688cf9b9756 inherit pro_attribs_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time when the previous value was collected. <br/></td></tr>
<tr class="separator:aac9fc6470f8af9a896d93688cf9b9756 inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d4b1630d5a1d2b8c2f79d035effb96 inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1d4b1630d5a1d2b8c2f79d035effb96"></a>
time_t&#160;</td><td class="memItemRight" valign="bottom"><b>_cTime</b></td></tr>
<tr class="separator:af1d4b1630d5a1d2b8c2f79d035effb96 inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8bb4b29cbbb2ff61abfa5faa7c39b2a inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8bb4b29cbbb2ff61abfa5faa7c39b2a"></a>
time_t&#160;</td><td class="memItemRight" valign="bottom"><b>_pTime</b></td></tr>
<tr class="separator:ab8bb4b29cbbb2ff61abfa5faa7c39b2a inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ecefef03e494e5a945da9feb3f01ab2 inherit pro_attribs_classcea_1_1Sensor"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ecefef03e494e5a945da9feb3f01ab2"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcea_1_1Sensor.html#a0ecefef03e494e5a945da9feb3f01ab2">_latency</a></td></tr>
<tr class="memdesc:a0ecefef03e494e5a945da9feb3f01ab2 inherit pro_attribs_classcea_1_1Sensor"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcea_1_1Sensor.html" title="Sensor abstract class.">Sensor</a> latency in milliseconds (ms) <br/></td></tr>
<tr class="separator:a0ecefef03e494e5a945da9feb3f01ab2 inherit pro_attribs_classcea_1_1Sensor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PID (process id) related <a class="el" href="classcea_1_1Sensor.html" title="Sensor abstract class.">Sensor</a>. </p>
<dl class="section author"><dt>Author</dt><dd>Leandro Fontoura Cupertino </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2012 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright © 2012, IRIT, CoolEmAll (INFSO-ICT-288701).  GPL.</dd></dl>
<p>The <a class="el" href="classcea_1_1PIDSensor.html" title="PID (process id) related Sensor.">PIDSensor</a> is a <a class="el" href="classcea_1_1Sensor.html" title="Sensor abstract class.">Sensor</a> which can be accessed independently for each process. The pure virtual method update(pid_t) define how the sensor should recalculate its current value variable. There is an already implemented getValue(pid_t pid) method which updates its current value, add its PID if its not present it the mapping and return the _cvPIDMap[pid] <a class="el" href="unioncea_1_1sensor__t.html" title="Sensor unit.">sensor_t</a> variable.</p>
<h1><a class="anchor" id="examples"></a>
Usage examples</h1>
<p>In the sections we describe some examples of how to use the <a class="el" href="classcea_1_1PIDSensor.html" title="PID (process id) related Sensor.">PIDSensor</a> to implement your own metric/estimator.</p>
<h3>Example 1: Simple PID sensor</h3>
<p>This is an introductory example that shows how a programmer can implement its own sensor. In this example, <a class="el" href="classcea_1_1FakeSensor.html" title="Fake sensor used for Monitor test.">FakeSensor</a> returns the pid multiplied by a random number.</p>
<p>Note that there is only three methods implemented. The constructor define the name, alias and type of the sensor. The name is used in the data acquisition output, while the alias is used as the column header on the ectop. The sensor can have two types: U64 (unsigned long long) or Float this information is used to handle the <a class="el" href="unioncea_1_1sensor__t.html" title="Sensor unit.">sensor_t</a> union.</p>
<p>The getValue(pid_t pid) is a virtual method to return the sensor value as a <a class="el" href="unioncea_1_1sensor__t.html" title="Sensor unit.">sensor_t</a> (a union with float and u64). This method was kept virtual because some sensors may require the previous value and/or elapsed time to be computed, so the user can re-implement it according to his need.</p>
<p>The last important method to be overwritten is the update, which is pure virtual. On this method one need to define how the update of the current value of the sensor is done.</p>
<div class="fragment"><div class="line"><span class="comment">// demos/ex1/MySensor.h</span></div>
<div class="line"><span class="preprocessor">#ifndef MYSENSOR_H__</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MYSENSOR_H__</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="SensorPid_8h.html" title="Process Id related Sensor.">libec/sensor/SensorPid.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>MySensor : <span class="keyword">public</span> <a class="code" href="classcea_1_1PIDSensor.html" title="PID (process id) related Sensor.">cea::PIDSensor</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  MySensor();</div>
<div class="line"></div>
<div class="line">  <a class="code" href="unioncea_1_1sensor__t.html" title="Sensor unit.">cea::sensor_t</a> <a class="code" href="classcea_1_1Sensor.html#ac016b603accc50ee5413f832366152d5" title="Gets sensor&#39;s current value (for the entire system).">getValue</a>(pid_t pid);</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classcea_1_1Sensor.html#a32e0584fdb81ff026e5ca047b3f00c6d" title="Updates sensor&#39;s state.">update</a>(pid_t pid);</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// demos/ex1/MySensor.cpp</span></div>
<div class="line"><span class="preprocessor">#include &quot;MySensor.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Tools_8h.html" title="Static tools function.">libec/tools/Tools.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line">MySensor::MySensor() {</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a6e2f567d6388984538ff9821b24d64c2" title="Full name.">_name</a> = <span class="stringliteral">&quot;MySensor&quot;</span>;</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a37d7c2fe362e88ad383d16ab17a99b68" title="Short name (alias)">_alias</a> = <span class="stringliteral">&quot;MS&quot;</span>;</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a1b191f83c3660c354fad173af8e46684" title="Type.">_type</a> = cea::U64;</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a846e62d29febf250a29a055e38cdfca3" title="Status.">_isActive</a> = <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="unioncea_1_1sensor__t.html" title="Sensor unit.">cea::sensor_t</a> MySensor::getValue(pid_t pid) {</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a32e0584fdb81ff026e5ca047b3f00c6d" title="Updates sensor&#39;s state.">update</a>(pid);</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="classcea_1_1Sensor.html#ac2b3a39c797ea21979b96007bba1619c" title="Current value.">_cValue</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> MySensor::update(pid_t pid) {</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#ac2b3a39c797ea21979b96007bba1619c" title="Current value.">_cValue</a>.<a class="code" href="unioncea_1_1sensor__t.html#a9f90bbb67b55c39b3b80ae7c289b3e41" title="unsigned int value">U64</a> = pid * <a class="code" href="classcea_1_1Tools.html#a236e869ebf59eae0be23c80b452e784c" title="Get a random number.">cea::Tools::rnd</a>(1, 10);</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// demos/ex1/main.cpp</span></div>
<div class="line"><span class="preprocessor">#include &quot;MySensor.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ctime&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  <a class="code" href="classcea_1_1PIDSensor.html" title="PID (process id) related Sensor.">cea::PIDSensor</a>* sensor;</div>
<div class="line">  pid_t pid;</div>
<div class="line"></div>
<div class="line">  sensor = <span class="keyword">new</span> MySensor();</div>
<div class="line"></div>
<div class="line">  <span class="comment">// check if the sensor was properly started</span></div>
<div class="line">  <span class="keywordflow">if</span> (sensor-&gt;<a class="code" href="classcea_1_1Sensor.html#ab5443dc235beadec57a5e1a353589d31">getStatus</a>())</div>
<div class="line">  {</div>
<div class="line">    pid = getpid();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;----------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Name: &quot;</span> &lt;&lt; sensor-&gt;<a class="code" href="classcea_1_1Sensor.html#a8f74b96bbf46f7754bc7fa32cee8c139">getName</a>() &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Alias: &quot;</span> &lt;&lt; sensor-&gt;<a class="code" href="classcea_1_1Sensor.html#a6c2a54aa8b057a81618edd230b307e6f">getAlias</a>() &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++)</div>
<div class="line">    {</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;pid: &quot;</span> &lt;&lt; pid &lt;&lt; <span class="stringliteral">&quot; \tticks: &quot;</span> &lt;&lt; time(NULL)</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; \tvalue:&quot;</span> &lt;&lt; sensor-&gt;<a class="code" href="classcea_1_1Sensor.html#ac016b603accc50ee5413f832366152d5" title="Gets sensor&#39;s current value (for the entire system).">getValue</a>(pid).<a class="code" href="unioncea_1_1sensor__t.html#a9f90bbb67b55c39b3b80ae7c289b3e41" title="unsigned int value">U64</a> &lt;&lt; std::endl;</div>
<div class="line">      sleep(1);</div>
<div class="line">    }</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;----------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;error: sensor could not be opened.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h3>Example 2: Time dependent PID sensor</h3>
<p>As mentioned before, several PID sensors needs to keep track of its previous value in order to calculate its current value. This example shows the easier way to implement such sensors, by providing the sum of user and system time of the current process.</p>
<div class="fragment"><div class="line"><span class="comment">// demos/ex2/MySensor.h</span></div>
<div class="line"><span class="preprocessor">#ifndef MYSENSOR_H__</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MYSENSOR_H__</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="SensorPid_8h.html" title="Process Id related Sensor.">libec/sensor/SensorPid.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>MySensor : <span class="keyword">public</span> <a class="code" href="classcea_1_1PIDSensor.html" title="PID (process id) related Sensor.">cea::PIDSensor</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  MySensor();</div>
<div class="line"></div>
<div class="line"><a class="code" href="unioncea_1_1sensor__t.html" title="Sensor unit.">cea::sensor_t</a> <a class="code" href="classcea_1_1Sensor.html#ac016b603accc50ee5413f832366152d5" title="Gets sensor&#39;s current value (for the entire system).">getValue</a>(pid_t pid);</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">void</span>  <a class="code" href="classcea_1_1Sensor.html#a32e0584fdb81ff026e5ca047b3f00c6d" title="Updates sensor&#39;s state.">update</a>(pid_t pid);</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// demos/ex2/MySensor.cpp</span></div>
<div class="line"><span class="preprocessor">#include &quot;MySensor.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Tools_8h.html" title="Static tools function.">libec/tools/Tools.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"></div>
<div class="line">MySensor::MySensor() {</div>
<div class="line">  <span class="keywordtype">int</span> fd;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a6e2f567d6388984538ff9821b24d64c2" title="Full name.">_name</a> = <span class="stringliteral">&quot;MySensor User Time&quot;</span>;</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a37d7c2fe362e88ad383d16ab17a99b68" title="Short name (alias)">_alias</a> = <span class="stringliteral">&quot;UT&quot;</span>;</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a1b191f83c3660c354fad173af8e46684" title="Type.">_type</a> = cea::U64;</div>
<div class="line"></div>
<div class="line">  fd = open(<span class="stringliteral">&quot;/proc/stat&quot;</span>, O_RDONLY, 0);</div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a846e62d29febf250a29a055e38cdfca3" title="Status.">_isActive</a> = (fd != -1);</div>
<div class="line">  close(fd);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="unioncea_1_1sensor__t.html" title="Sensor unit.">cea::sensor_t</a> MySensor::getValue(pid_t pid) {</div>
<div class="line">  <a class="code" href="unioncea_1_1sensor__t.html" title="Sensor unit.">cea::sensor_t</a> ret;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="classcea_1_1Sensor.html#a32e0584fdb81ff026e5ca047b3f00c6d" title="Updates sensor&#39;s state.">update</a>(pid);</div>
<div class="line">  ret.<a class="code" href="unioncea_1_1sensor__t.html#a9f90bbb67b55c39b3b80ae7c289b3e41" title="unsigned int value">U64</a> = _cvPIDMap[pid].U64 - _pvPIDMap[pid].U64;</div>
<div class="line">  <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> MySensor::update(pid_t pid) {</div>
<div class="line">  <span class="keywordtype">int</span> fd;</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">char</span> path[1024];</div>
<div class="line">  <span class="keywordtype">char</span> sbuf[1024];</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> putime, pstime;</div>
<div class="line">  <span class="comment">//dummy variables</span></div>
<div class="line">  <span class="keywordtype">int</span> d_int;</div>
<div class="line">  <span class="keywordtype">char</span> d_buf[200];</div>
<div class="line">  <span class="keywordtype">char</span> d_char;</div>
<div class="line">  <span class="keywordtype">long</span> d_long;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> d_ulong;</div>
<div class="line"></div>
<div class="line">  sprintf(path, <span class="stringliteral">&quot;/proc/%d/stat&quot;</span>, pid);</div>
<div class="line"></div>
<div class="line">  fd = open(path, O_RDONLY, 0);</div>
<div class="line">  <span class="keywordflow">if</span> (fd == -1)</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  read(fd, sbuf, 1023);</div>
<div class="line">  close(fd);</div>
<div class="line"></div>
<div class="line">  sscanf(sbuf, <span class="stringliteral">&quot;%d (%s %c %d %d %d %d %d %lu %lu %lu %lu %lu &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;%lu %lu &quot;</span>, <span class="comment">/* utime stime */</span></div>
<div class="line">         &amp;d_int, &amp;d_buf, &amp;d_char, &amp;d_int, &amp;d_int, &amp;d_int, &amp;d_int, &amp;d_int,</div>
<div class="line">         &amp;d_long, &amp;d_long, &amp;d_long, &amp;d_long, &amp;d_long, &amp;putime, &amp;pstime);</div>
<div class="line"></div>
<div class="line">  _pvPIDMap[pid].U64 = _cvPIDMap[pid].U64;</div>
<div class="line">  _cvPIDMap[pid].U64 = putime + pstime;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// demos/ex2/main.cpp</span></div>
<div class="line"><span class="preprocessor">#include &quot;MySensor.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;ctime&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  <a class="code" href="classcea_1_1PIDSensor.html" title="PID (process id) related Sensor.">cea::PIDSensor</a>* sensor;</div>
<div class="line">  pid_t pid;</div>
<div class="line"></div>
<div class="line">  sensor = <span class="keyword">new</span> MySensor();</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">double</span> load = 0.5f; <span class="comment">// just a variable to inclease the cpu load</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// check if the sensor was properly started</span></div>
<div class="line">  <span class="keywordflow">if</span> (sensor-&gt;<a class="code" href="classcea_1_1Sensor.html#ab5443dc235beadec57a5e1a353589d31">getStatus</a>()) {</div>
<div class="line">      pid = getpid();</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;----------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;Name: &quot;</span> &lt;&lt; sensor-&gt;<a class="code" href="classcea_1_1Sensor.html#a8f74b96bbf46f7754bc7fa32cee8c139">getName</a>() &lt;&lt; std::endl;</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;Alias: &quot;</span> &lt;&lt; sensor-&gt;<a class="code" href="classcea_1_1Sensor.html#a6c2a54aa8b057a81618edd230b307e6f">getAlias</a>() &lt;&lt; std::endl;</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++)</div>
<div class="line">        {</div>
<div class="line">          std::cout &lt;&lt; <span class="stringliteral">&quot;pid: &quot;</span> &lt;&lt; pid &lt;&lt; <span class="stringliteral">&quot; \tticks: &quot;</span> &lt;&lt; time(NULL)</div>
<div class="line">              &lt;&lt; <span class="stringliteral">&quot; \tvalue:&quot;</span> &lt;&lt; sensor-&gt;<a class="code" href="classcea_1_1Sensor.html#ac016b603accc50ee5413f832366152d5" title="Gets sensor&#39;s current value (for the entire system).">getValue</a>(pid).<a class="code" href="unioncea_1_1sensor__t.html#a9f90bbb67b55c39b3b80ae7c289b3e41" title="unsigned int value">U64</a> &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">          <span class="comment">// small cpu load for the sensor to change</span></div>
<div class="line">          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; 10000000; j++)</div>
<div class="line">              load = (100.1*sin(load)/log(j));</div>
<div class="line"></div>
<div class="line">          sleep(1);</div>
<div class="line">        }</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;----------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">      std::cout &lt;&lt; load &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;error: sensor could not be opened.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a20db7f70e5eb97573434c03a5f4221b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cea::PIDSensor::PIDSensor </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>xmlTag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xmlTag</td><td>XML tag containing the parameters to load a sensor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab7179f86896b5e7b3f0c39ebf393f825"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void cea::PIDSensor::add </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a new PID entry into the current and previous maps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td><a class="el" href="classcea_1_1Process.html" title="Base class for Process implementation.">Process</a> ID </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classcea_1_1PidStat.html#ac6749f0766b14ecfb6f9e55fcdec9f1a">cea::PidStat</a>, <a class="el" href="classcea_1_1CpuElapsedTime.html#aa890b4e31b410b192d9a9421481dd1bf">cea::CpuElapsedTime</a>, <a class="el" href="classcea_1_1CpuTimeShare.html#af2c23634bbd80755edc70b49830b7ed5">cea::CpuTimeShare</a>, <a class="el" href="classcea_1_1CpuTimeUsage.html#a458e5f9207258b198732c1c624bbc0b4">cea::CpuTimeUsage</a>, <a class="el" href="classcea_1_1MinMaxCpu2.html#ad71bcb2e4f9acb98354d8550fd1b60fc">cea::MinMaxCpu2</a>, and <a class="el" href="classcea_1_1MinMaxCpu.html#a3a81558686c136d6de91d2c1f5268ca4">cea::MinMaxCpu</a>.</p>

</div>
</div>
<a class="anchor" id="afb024dffd1ff76e6739cea708fcc704b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="unioncea_1_1sensor__t.html">sensor_t</a> cea::PIDSensor::getValuePid </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets sensor's current value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td><a class="el" href="classcea_1_1Process.html" title="Base class for Process implementation.">Process</a> ID (-1 for all processes) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classcea_1_1PidStat.html#a2f543b8b37598128dab0b4bb1d5486e3">cea::PidStat</a>, <a class="el" href="classcea_1_1PerfCount.html#a2dafccb05e814997d04a0fc792434bc8">cea::PerfCount</a>, <a class="el" href="classcea_1_1CpuTime.html#a31d5d7e2c90872693c477c52ec7f866f">cea::CpuTime</a>, <a class="el" href="classcea_1_1CpuElapsedTime.html#aa85dc4a02de23391708d6c6efffad2c5">cea::CpuElapsedTime</a>, <a class="el" href="classcea_1_1CpuTimeUsage.html#a13c6e2224bd169eac7ad90dcfad97222">cea::CpuTimeUsage</a>, <a class="el" href="classcea_1_1FakeSensor.html#a2ed70a33cf42ae102e0cce846b4319e4">cea::FakeSensor</a>, <a class="el" href="classcea_1_1MinMaxCpu2.html#aa7ba50b3cbd640aec283cc61e569388a">cea::MinMaxCpu2</a>, <a class="el" href="classcea_1_1SensorCpuUsage.html#a367f1e0cb43a7ed7c118e8540bcfbe90">cea::SensorCpuUsage</a>, <a class="el" href="classcea_1_1InverseCpu.html#a8c0870702ca86813a1fc6f861e8d82ed">cea::InverseCpu</a>, <a class="el" href="classcea_1_1MinMaxCpu.html#a7b4938afb83f4c6095a8fba7a50496c3">cea::MinMaxCpu</a>, <a class="el" href="classcea_1_1CpuPowerEstimator.html#a94b472076da7a91d26c39bd3840d8922">cea::CpuPowerEstimator</a>, and <a class="el" href="classcea_1_1PELinearRegression.html#ab532b858bb1bb0f6e74ed18071267384">cea::PELinearRegression</a>.</p>

</div>
</div>
<a class="anchor" id="a9a76412937dbee7cfb93f757cc3e7b4b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void cea::PIDSensor::remove </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a PID entry from the current and previous maps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td><a class="el" href="classcea_1_1Process.html" title="Base class for Process implementation.">Process</a> ID </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classcea_1_1PidStat.html#a6491200b2c3ae20567692f4922184f7e">cea::PidStat</a>, <a class="el" href="classcea_1_1MinMaxCpu2.html#acae140c4563b383bc63669873e7efe0c">cea::MinMaxCpu2</a>, and <a class="el" href="classcea_1_1MinMaxCpu.html#a787d332ca2788598c4c5829eee2672f7">cea::MinMaxCpu</a>.</p>

</div>
</div>
<a class="anchor" id="a15a0c3f6734b7af6bb1d6dbc0b5667d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void cea::PIDSensor::updatePid </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates sensor's state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td><a class="el" href="classcea_1_1Process.html" title="Base class for Process implementation.">Process</a> id. (-1 for all processes) </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classcea_1_1PidStat.html#af22dc05a3e8c98e877c8a7ecd5c80cfc">cea::PidStat</a>, <a class="el" href="classcea_1_1PerfCount.html#ad972591d12b4ad7b806733c3ab0c03b7">cea::PerfCount</a>, <a class="el" href="classcea_1_1DPELinearRegression.html#a25275fe82b99d8e31020b4fff28965f6">cea::DPELinearRegression</a>, <a class="el" href="classcea_1_1CpuTime.html#a1598e22a3ce072290451a38a031e3db9">cea::CpuTime</a>, <a class="el" href="classcea_1_1CpuElapsedTime.html#a4b877f8dfeee68e0c232e7ed24cebf92">cea::CpuElapsedTime</a>, <a class="el" href="classcea_1_1FakeSensor.html#a6a1345d5a77af0db6df4fec6fc4c3a97">cea::FakeSensor</a>, <a class="el" href="classcea_1_1MinMaxCpu2.html#aec8bfc1d762170e94a3b5dd92bc4268c">cea::MinMaxCpu2</a>, <a class="el" href="classcea_1_1MinMaxCpu.html#a08f590b06cbf49c12b64d575d26a3088">cea::MinMaxCpu</a>, <a class="el" href="classcea_1_1CpuTimeUsage.html#a1d8ef58fd2692ecd4a296c5fec88177d">cea::CpuTimeUsage</a>, <a class="el" href="classcea_1_1InverseCpu.html#a96916fd2765c94b385c5e44bf093812b">cea::InverseCpu</a>, <a class="el" href="classcea_1_1SensorCpuUsage.html#ac221111e3fd8c1dbb145788177c6607e">cea::SensorCpuUsage</a>, <a class="el" href="classcea_1_1CpuPowerEstimator.html#abe7f39369c64da1f46243016fc7eb27b">cea::CpuPowerEstimator</a>, and <a class="el" href="classcea_1_1PELinearRegression.html#a6ce1a30f2114d50f420c6f9b81b0de14">cea::PELinearRegression</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/fontoura/workspace/github/ectools/include/libec/sensor/<a class="el" href="SensorPid_8h_source.html">SensorPid.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
